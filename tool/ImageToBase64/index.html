<!DOCTYPE html>
<html>
	<head>
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-1RN5YKK1NL"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());
			gtag('config', 'G-1RN5YKK1NL');
		</script>
		<title>Image to Base64</title>
		<meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"/>
	</head>
	<body>
		<script>
			(function() {
				Object.assign(document.documentElement.style, {
					height: "100%"
				});
				Object.assign(document.body.style, {
					color: 'white',
					backgroundColor: 'black',
					margin: 0,
					height: "100%",
				});
				const table = document.createElement("table");
				document.body.appendChild(table);
				Object.assign(table.style, {
					width: "100%",
					height: "calc(100% - 84px)"
				});
				const tr1 = document.createElement("tr");
				table.appendChild(tr1);
				Object.assign(tr1.style, {
					height: "2%"
				});
				const tr2 = document.createElement("tr");
				table.appendChild(tr2);
				Object.assign(tr2.style, {
					height: "98%"
				});
				const settings = document.createElement("td");
				tr1.appendChild(settings);
				const textareas = document.createElement("td");
				tr2.appendChild(textareas);
				const fileSelect = document.createElement("input");
				Object.assign(fileSelect, {
					type: "file",
					accept: "image/*",
					multiple: true,
				});
				fileSelect.addEventListener("change", (e) => {
					e.stopPropagation();
					e.preventDefault();
					image2base64(e.target.files);
				}, false);
				settings.appendChild(fileSelect);
				const fileName = document.createElement("input");
				settings.appendChild(fileName);
				fileName.id = "ITB_FILENAME";
				fileName.type = "checkbox";
				fileName.checked = "true" === localStorage.getItem(fileName.id);
				settings.appendChild(document.createTextNode("fileName"));
				const backgroundImage = document.createElement("input");
				settings.appendChild(backgroundImage);
				backgroundImage.id = "ITB_BACKGROUNDIMAGE";
				backgroundImage.type = "checkbox";
				backgroundImage.checked = "true" === localStorage.getItem(backgroundImage.id);
				settings.appendChild(document.createTextNode("backgroundImage ï¼Ž indent "));
				const indentCount = document.createElement("input");
				settings.appendChild(indentCount);
				indentCount.id = "ITB_INDENTCOUNT";
				indentCount.style.width = "30px";
				Object.assign(indentCount, {
					type: "number",
					min: 0,
					value: null === localStorage.getItem(indentCount.id) ? 0 : localStorage.getItem(indentCount.id)
				});
				const indentChar = document.createElement("select");
				settings.appendChild(indentChar);
				indentChar.id = "ITB_INDENTCHAR";
				const indentTab = document.createElement("option");
				indentChar.appendChild(indentTab);
				indentTab.value = "\t";
				indentTab.appendChild(document.createTextNode("tab"));
				const indentSpace = document.createElement("option");
				indentChar.appendChild(indentSpace);
				indentSpace.value = " ";
				indentSpace.appendChild(document.createTextNode("space"));
				indentChar.value = null === localStorage.getItem(indentChar.id) ? "\t" : localStorage.getItem(indentChar.id);
				const output = document.createElement("textarea");
				Object.assign(output.style, {
					color: "white",
					backgroundColor: "black",
					width: "100%",
					height: "100%",
					"box-sizing": "border-box"
				});
				output.value = "Drag & drop images anywhere";
				textareas.appendChild(output);
				const srcList = [];
				const print = function() {
					let count = srcList.length;
					let value = "";
					for (src of srcList) {
						value += "\n";
						for (let i = 0; i < parseInt(indentCount.value); i ++)
							value += indentChar.value;
						if (fileName.checked)
							value += '"' + src.name + '": ';
						value += backgroundImage.checked ? ("'url(\"" + src.src + "\")',") : ("'" + src.src + "',");
					}
					if ("" === value) {
						output.value = "Drag & drop images anywhere";
					} else {
						output.value = value;
						output.focus();
						output.select();
					}
				};
				const image2base64 = function(files) {
					document.getElementById("ad").checked = false;
					srcList.length = 0;
					let count = files.length;
					output.value = "Loading " + count + " images";
					for (let file of files)
						if (file.type.startsWith("image/")) {
							const reader = new FileReader();
							reader.index = srcList.length;
							srcList.push({
								name: file.name
							});
							reader.onload = (e) => {
								srcList[reader.index].src = e.target.result;
								if (0 == -- count)
									print();
							};
							reader.readAsDataURL(file);
						} else {
							count --;
						}
				};
				document.body.addEventListener("dragenter", (e) => {
					e.stopPropagation();
					e.preventDefault();
				}, false);
				document.body.addEventListener("dragover", (e) => {
					e.stopPropagation();
					e.preventDefault();
				}, false);
				document.body.addEventListener("drop", (e) => {
					e.stopPropagation();
					e.preventDefault();
					image2base64(e.dataTransfer.files);
				}, false);
				fileName.addEventListener("change", (e) => {
					localStorage.setItem(fileName.id, fileName.checked);
					print();
				}, false);
				backgroundImage.addEventListener("change", (e) => {
					localStorage.setItem(backgroundImage.id, backgroundImage.checked);
					print();
				}, false);
				indentCount.addEventListener("change", (e) => {
					localStorage.setItem(indentCount.id, indentCount.value);
					print();
				}, false);
				indentChar.addEventListener("change", (e) => {
					localStorage.setItem(indentChar.id, indentChar.value);
					print();
				}, false);
			})();
		</script>
		<div style="position: absolute; z-index: 99999">
			<input autocomplete="off" type="checkbox" id="ad" hidden />
			<div style="padding-top: 0; padding-bottom: 60px;">
				<div style="width:468px;height:60px;position:fixed;text-align:center;font-size:0;bottom:0;left:0;right:0;margin:auto">
					<label for="ad" style="top: -24px; right: 0;; position: absolute;border-radius: 4px; background: rgba(248, 248, 249, 0.70); padding: 4px;z-index: 99999;cursor:pointer">
						<svg fill="#000000" height="16px" width="16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 490 490">
							<polygon points="456.851,0 245,212.564 33.149,0 0.708,32.337 212.669,245.004 0.708,457.678 33.149,490 245,277.443 456.851,490 489.292,457.678 277.331,245.004 489.292,32.337 "/>
						</svg>
					</label>
					<div id="frame" style="width: 468px;margin: auto;z-index: 99998;height: 60px;overflow:hidden">
						<iframe data-aa="2423743" src="//ad.a-ads.com/2423743/?size=468x60" style="border:0; padding:0; width:468px; height:60px; overflow:hidden; margin: auto; position: relative !important;" sandbox="allow-scripts allow-forms allow-same-origin"></iframe>
					</div>
				</div>
				<style>
					#ad:checked + div {
						display: none;
					}
				</style>
			</div>
		</div>
		<!-- <a href="."><img src="data:image/webp;base64,UklGRjwCAABXRUJQVlA4TC8CAAAvO8AOEIDcNpIkif673RFZ1Tl7/iJkQZJs2lZd27Zt23rWl23btm3btm3btm32BODvXZAKWQnjARc1tFWJzQomblHVsmngBRG5r/IGFl41o4vhlHVcwNzTZlhgbQV1MxluE+AkTe3lvEumFzR3U9wawwH1/aJTH1Tboh8MpWq9FAcTkc5LjDONqnEAMwsKmcZ4hT+U/dccT/0K2cN5Q/VGMSDAOM6AWr4mclvMGheEA7I9JdfEAFI8SuSjqktsZA9o7BcR+aAKwNPRRKTrChMAGEVZZ4C5BYXMYPSav1oBbK2nbjYTQJ9CdnG7wWzirWJAhAs0dZA7oJZvidwWewEDl4UCyntNcw8lAzI8SOSzKmcG+1Ns5ABoS8e+qg3wciwR6XLAygqqxgKMTKabBgFMLSlkNsMJf2co+6sNwMUuumsFC0DfQvZwbXK8oOy1UkCc23TbCYGAmn4kclNi0sQvyq4IBVT3me57phCQ7mEin1R9GEnVFraA3vSqP5oCfBxORDqDszVUjQWYWEhvGw0wtbSQyc5R9l9LgLcj9L6NHAADCumQvFYOkO0hbXRVBKCmH8FX6PFwSTigvh+003vlAWkeP9QCzCaylR0YGkh7tWcAPo4QGQqAibH6AmDu8yLvmAMsjNQXQ+aeLvKEOU5XefyD8du77s8H2M6hO/oBNqDb/wE2DRz8/2PhxSLPzph4ssgZBkdQ368TewfOnPioGBdFqnQoZSBDpUMB+JsFAA==" style="position: fixed; right: 0; bottom: 60px; filter: invert(1);"/></a> -->
	</body>
</html>